<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;" charset="UTF-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mariah Carey Season</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" type="text/css" href="css/jquery.pagepiling.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas&display=swap">
    <link rel="stylesheet" href="css/style.css">

<!--    Word Cloud-->
    <link href="https://cdn.anychart.com/releases/v8/css/anychart-ui.min.css" type="text/css" rel="stylesheet">
    <link href="https://cdn.anychart.com/releases/v8/fonts/css/anychart-font.min.css" type="text/css" rel="stylesheet">

</head>
<body>
    <div id="pagepiling">
        <div class="section">
            <div class="snowflake">
                ❅
            </div>
            <div class="snowflake">
                ❆
            </div>
            <div class="snowflake">
                ❅
            </div>
            <div class="snowflake">
                ❆
            </div>
            <div class="snowflake">
                ❅
            </div>
            <div class="snowflake">
                ❆
            </div>
            <div class="snowflake">
                ❅
            </div>
            <div class="snowflake">
                ❆
            </div>
            <div class="snowflake">
                ❅
            </div>
            <div class="snowflake">
                ❆
            </div>
            <div class="snowflake">
                ❅
            </div>
            <div class="snowflake">
                ❆
            </div>
            <h1 class="ml9">
                <span class="text-wrapper">
                    <span class="letters">Mariah Carey Season</span>
                </span>
            </h1>
            <h2>An Interactive Visualization of the Top Christmas Songs</h2>
            <input type="button" value="Play ▶" id="playButton" style="position: absolute; top: 65%; left:48%; display: block; border-radius: 5px; background-color: white; width: 80px;"><audio id="my_audio" src="AIWFCIY.mp3" loop="loop"></audio></input>
            <a href="#Page2"><img id="arrow" src="https://www.codehaven.co.uk/wp-content/uploads/2019/12/arrow-down-white-300x157.png" class="bounce arrow"></a>
        </div>
        <div class="section">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-8"style="height: 100%; width:100%;">
                        <div id="initialPage" style="height: 100%; width:100%;"></div>
                    </div>
                    <div class="col-4">
                        <h4>Christmas is coming, and we're starting to listen to holiday music!</h4>
                        <h5>Each bubble represents a song on the Billboard Chart, sized according to peak position reached (where bigger size indicates a better position.) Because some songs have appeared on the chart multiple times over the years, they have more than one bubble.</h5>
                        <h5>Hover over each one to see its title, performer and album art!</h5>
                        <button id="all" class="button active" onclick="hideImage();">All Songs</button>
                        <button id="weeks_on_chart" class="button" onclick="hideImage();">By Weeks on Chart</button>
                        <button id="year" class="button" onclick="addimage();">By Decade</button>
                        <button id="instance" class="button" onclick="hideImage();">By Instance</button>
                        <p class="filler1" style="margin-top: 130px; margin-right: 75px; width: 700px; text-align: center; color: #237249">
                            First, we look at the top songs on the Billboard chart from 1958 through 2017.</p>
                        <p class="filler2" style="margin-right: 75px; width: 700px; text-align: center; color: #237249">
                            Click through each button to see how many weeks the top songs spent on the chart, the number of times they appeared, and the decades they topped.</p>
                        <a id="secondArrow" href="#Page3"></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="section">
        <!--    Gustavo's section 1 -->
            <div class="container-fluid">
                <div class="row">
                    <div class="col-8" id="birthdayVis" style="height: 100%; width:100%;">
                        <img id="performer">
                    </div>
                    <div class="col-4" id="birthdayTextVis">
                        <h4 class="center">Let's deep dive into the history of Christmas music.
                             </h4>
                        <h4 id="canYouGuess"> Nothing is as magical as one's birthday. Can you guess what was the top Christmas song in your birthyear?</h4>

                        <h4 id="birthdayTextExample"> For instance, "All I Want For Christmas" was <br> the most popular song in 2019</h4>

                        <div><h4 class="center">Enter your birthyear (or any other year!) to see its top song </h4>
                            <input type="number" id="birthdayInput" name="birthdayInput"
                                   min="1958" max="2019" placeholder="2019">
                            <button id="birthdayButton" class="button active" onclick="birthdayChange()" >submit</button></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="section" id="starshine">
            <div class="template shine"></div>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-4">
                        <h5 style="margin-top: 5%; margin-right:-25%; width:550px;">Now that we've explored the top songs through the years, let's take a look at the artists who created them.</h5>
                        <h5 style="margin-right:-25%; width:550px;">Press 'PLAY' to start the globe's rotation, then press 'PAUSE' to click on a point and read more about the artist who was born there!</h5>
                        <div class="newDiv"></div>
                        <h5 style="margin-right:-25%; width:550px;margin-top: 10px;">Most artists who created the top Christmas songs are from North America, but a handful have come from Europe and even India!</h5>
                    </div>
                    <div class="col-8">
                        <div id="mapVis" style="width:100%; height: 100vh;"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="section">
        <!--   Jerry's section 1 -->
            <div class="container-fluid">
                <div class="row justify-content-center">
                    <div class="col-auto text-center">
                        <div class="row justify-content-center">
                            <div id="wordCloudDiv"></div>
                        </div>
<!--                      removed style="padding-bottom:100px because it was making it janky -->
                        <div class="row justify-content-center" style="font-size: 2rem;">
                            The #1 most frequently used word from
                            <select name="artistSelect" id="artistSelectEl" style="width: 180px; background: #ececec61;"
                                    onchange="onArtistSelect(this.value)"></select>'s Billboard 100 Christmas hits was
                            <span id="topWordSpan" style="font-weight: bold; color: #5f0000;
                                text-decoration: underline;"></span>. It was used
                            <span id="topWordCountSpan" style="color: #064202; text-decoration: underline;
                                   font-weight: bold;">
                            </span> time(s)
                            throughout all the Billboard song appearances.
                        </div>

                        <div class="row justify-content-center" >
                            <div style="font-weight: bold; padding: 50px; font-size: 2.5rem;
                            text-decoration: underline;">Type in a word to see its frequency</div>
                        </div>


                        <div class="row justify-content-center" style="font-size: 2rem;">
                            <div id="lyricInputDiv">
                                <input type="text" list="words" id="wordInputEl" onchange="onWordInput(this.value)"
                                style="background: #f0f8ff29; border: none;
                                border-bottom: 2px solid white;"/>
                                was used <span id="wordInputResultEl" style="font-weight: bold;
                                text-decoration: underline;">0</span> time(s)
                                <datalist id="words"></datalist>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
        <!--   Jerry's section 2-->
            <div class="container-fluid">
                <div class="row justify-content-center">
                    <div style="font-size: 2rem; font-weight: bold;
                    padding-top: 50px; font-size: 2.5rem; text-decoration: underline;">Create your own unique Christmas Jingle</div>
                </div>

                <div class="row justify-content-center">
                    <div style="font-size: 1rem; color: gray; padding-bottom: 50px">
                        (Click on Rodney to have him write a fully original Christmas Jingle, unique just for you! He won't
                        write the same song twice, so take a picture once you get a jingle you like!)
                    </div>
                </div>

                <div class="row justify-content-center" style="padding-bottom:50px">
                    <div class="col-2 text-center d-flex flex-column">
                        <img class="mt-auto reindeer-img" src="img/reindeer.svg" onclick="generateLyrics(event)"
                             alt="Singing reindeer" style="width: 80%">
                    </div>
                    <div class="col-4 text-center">
                        <div class="row justify-content-center lyricContainer">
                            <div class="col-auto text-center" id="lyricInnerContainer">
                                <div class="row justify-content-center lyricLine">
                                    <h3 class="neon" id="lyricDiv1">Generate</h3>
                                </div>
                                <div class="row justify-content-center lyricLine">
                                    <h3 class="neon" id="lyricDiv2">your</h3>
                                </div>
                                <div class="row justify-content-center lyricLine">
                                    <h3 class="neon" id="lyricDiv3">unique</h3>
                                </div>
                                <div class="row justify-content-center lyricLine">
                                    <h3 class="neon" id="lyricDiv4">jingle...</h3>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row justify-content-center" style="font-size: 1.5rem; padding-bottom: 10px">
                    <div style="text-decoration:underline;">How this works</div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-6 text-center">
                        <div style="font-size: 1.2rem; padding-bottom: 20px;">
                            We trained a long short-term memory machine learning model using the lyrics of
                            Billboard 100 Christmas hits from 1958-2017. When you click Rodney, the model takes time
                            to build a new song, word by word, based on the styles of the Billboard hits.
                        </div>
                    </div>
                </div>

<!--                <div class="row justify-content-center">-->
<!--                    <div class="col-4 text-center" style="font-size: 1.5rem;">-->
<!--                        <div style="color:black;">"<span id="originalLyricsEl"></span>"</div>-->
<!--                    </div>-->
<!--                </div>-->

            </div>
        </div>

        <div class="section">
            <!--    Gustavo's section 2 -->
            <div class="container-fluid" style="padding-bottom:10px; padding-top: 20px">
                <div class="row justify-content-center">
                    <p class="center" style="color:#162a72"> Remember our interactive component which showed the top Christmas </br> song of any year?
                        In case you didn't notice, "All I Want For Christmas?" <br> by Mariah Carey
                        is the top Christmas song for the past 7 years, since 2013.</p>
                </div>
                <div class="row justify-content-center" style="padding-top:10px">
                    <div class="col-6 text-center">
                        <p class="center" style="color:#162a72"> Check out the number of streams of Mariah's hit over December 2017.</p>
                        <div id="globalStreamsVis" style="height: 100%; width:100%;"> </div>
                        </div>
                    <div class="col-6">
                        <p class="center" id="needToBeAligned" style="color:#162a72">
                            Here we compare Mariah's streams with other popular Christmas songs
                        </p>
                        <div id="streamVis" style="height: 100%; width:100%;"> </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <!--    Gustavo's section 4 -->
            <div class="row justify-content-center">
                <h4 style="padding-bottom:25px"> Oh well, there is no doubt that Mariah is the Queen of Christmas.
                    <br> Let us wish you Happy Holidays with the season's most emblematic song</h4>

                <iframe width="700" height=" 393.75" src="https://www.youtube.com/embed/aAkMkVFwAoo" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen></iframe>
            </div>

    </div>


    <!-- Load JS libraries: jQuery, bootstrap, D3 -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#pagepiling').pagepiling({
                anchors: ['Page1', 'Page2', 'Page3', 'Page4', 'page5'],
                menu: '#myMenu',
                direction: 'vertical',
                verticalCentered: true,
                sectionsColor: ['#B51541', '#DFAD56', '#B51541', '#110019', '#DFAD56', 'white', '#DFAD56', '#B51541'],
                scrollingSpeed: 700,
                easing: 'swing',
                loopBottom: false,
                loopTop: false,
                css3: true,
                navigation: {
                    'textColor': '#000',
                    'bulletsColor': '#000',
                    'position': 'right',
                    'tooltips': ['Page One', 'Page Two', 'Page Three', 'Page Four', 'Page Five', 'Page 6']
                },
                normalScrollElements: null,
                normalScrollElementTouchThreshold: 5,
                touchSensitivity: 5,
                keyboardScrolling: true,
                sectionSelector: '.section',
                animateAnchor: false,

                //events
                onLeave: function(index, nextIndex, direction){},
                afterLoad: function(anchorLink, index){},
                afterRender: function(){},
            });
        });

        function addimage() {
            if(document.getElementById('secondArrow').style.display== 'none') {
                document.getElementById('secondArrow').style.display='block';
                var img = document.createElement("img");
                img.src = "https://www.codehaven.co.uk/wp-content/uploads/2019/12/arrow-down-white-300x157.png";
                img.height = 50;
                img.width = 100;

                //optionally set a css class on the image
                var class_name = "bounce arrow";
                var id = 'arrow2'
                img.setAttribute('id', id);
                img.setAttribute("class", class_name);

                document.getElementById('secondArrow').appendChild(img);
            }
        }

        function hideImage() {
            document.getElementById('secondArrow').style.display='none';
        }

        var mixBut = document.getElementById("playButton");
        mixBut.addEventListener("click", Start);
        mixBut.addEventListener("click", playSound);

        function playSound() {
            document.getElementById("my_audio").play();
        }
        function Start() {
            console.log(mixBut.value)
            if (mixBut.value == 'Play ▶') {
                document.getElementById("my_audio").muted = false;
            }
            mixBut.removeEventListener("click", Start);
            mixBut.addEventListener("click", Stop);
            mixBut.value = "Stop ◼";
        }
        function Stop(){
            mixBut.removeEventListener("click", Stop);
            mixBut.addEventListener("click", Start);
            stopSound();
            mixBut.value = "Play ▶";
        }

        function stopSound() {
            document.getElementById("my_audio").muted = true;
        }
    </script>
    <script>
        $(function() {
            var body = $('#starshine'),
                template = $('.template.shine'),
                stars =  500,
                sparkle = 20;


            var size = 'small';
            var createStar = function() {
                template.clone().removeAttr('id').css({
                    top: (Math.random() * 100) + '%',
                    left: (Math.random() * 100) + '%',
                    webkitAnimationDelay: (Math.random() * sparkle) + 's',
                    mozAnimationDelay: (Math.random() * sparkle) + 's'
                }).addClass(size).appendTo(body);
            };

            for(var i = 0; i < stars; i++) {
                if(i % 2 === 0) {
                    size = 'small';
                } else if(i % 3 === 0) {
                    size = 'medium';
                } else {
                    size = 'large';
                }

                createStar();
            }
        });
    </script>


    <!-- d3 -->
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/topojson.v2.min.js"></script>
    <script src="https://d3js.org/d3-geo.v1.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.pagepiling.js"></script>

    <!-- word cloud -->
        <script src="//cdn.amcharts.com/lib/4/core.js"></script>
        <script src="//cdn.amcharts.com/lib/4/charts.js"></script>
        <script src="//cdn.amcharts.com/lib/4/plugins/wordCloud.js"></script>


        <!-- own js files -->
    <script src="js/main.js"></script>
    <script src="js/initialPage.js"></script>
    <script src="js/mapVis.js"></script>
    <script src="js/birthdayVis.js"></script>
    <script src="js/lyricGenerator.js"></script>
        <script src="js/wordCloudVis.js"></script>
        <script src="js/globalStreamsVis.js"></script>
    <script src="js/streamVis.js"></script>

</body>
</html>